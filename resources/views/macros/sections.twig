{% macro sections(sections, section) %}

    {% import _self as self %}

    <li class="text-gray-500 py-2 block hover:text-gray-800 transition-color {{ section.highlighted ? 'text-gray-600 font-bold' }} {{ section.active ? 'active' }} {{ section.class }}">

        <a {{ html_attributes(section.attributes) }}>
            {{ section.icon ? icon(section.icon)|raw }}
            {{ trans(section.title)|raw }}

            {% if section.label %}
                <span class="tag tag-{{ section.context }}">
                    {{ trans(section.label)|raw }}
                </span>
            {% endif %}
        </a>

        {% if section.highlighted %}
            <ul>
                {% for child in sections.children(section.slug).visible() %}
                    {{ self.sections(sections, child) }}
                {% endfor %}
            </ul>
        {% endif %}
    </li>
{% endmacro %}
